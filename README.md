# PreWarning

Automated pre-warning for orienteering with support for voice and large display.

## Description

The PreWarning application is intended to be used to perform pre-warning for an Orienteering Relay event.  
It can be used with a display and a speaker to give both visual and audible pre-warnings.  
Either can be omitted to use only one of them.  
When using a display it is best used in the portrait orientation, but both orientations are supported.  
A TV can be used to get a bigger screen.

1. The application fetches electronic punches from a **Punch Source**.
2. Looks up the teams' bib number and which relay leg that punch belongs to from a **Start List Source**.
3. Displays the punch time, bib number and relay leg on the display and reads out the bib number in the speakers.


There are multiple choices for both Punch Sources and Start List Sources.

The application can be controlled interactively or driven entirely from the configuration file.  
In the interactive mode the right click menu or hotkeys can be used.

## Punch Sources

One of these Punch Sources is selected to be used to fetch the electronic punches.

### OLResultat.se Punch Source

Fetches electronic punches from the site [roc.olresultat.se](https://roc.olresultat.se).  
These punches have been sent to the site using a Raspberry Pi running the ROC software  
or an Android device running the [SI-Droid ROC](http://www.joja.se/) app.

### OLA MySQL Punch Source

Fetches electronic punches from the MySQL database used by the [OLA event organizing software](https://www.svenskorientering.se/Arrangera/itochtavlings-administration/OLAtidtagnings-program/).  
These punches have been fetched or received using one of the built-in methods in OLA.  
OLA must be using MySQL as the database engine, the built-in database is not supported.

## Start List Sources

One of these Start List Sources is selected to be used to look up the bib number and relay leg for the punches.

### OLA MySQL Start List Source

Looks up the team bib number and relay leg from the MySQL database used by the [OLA event organizing software](https://www.svenskorientering.se/Arrangera/itochtavlings-administration/OLAtidtagnings-program/).  
OLA must be using MySQL as the database engine, the built-in database is not supported.  
If the received punch data already contains the bib number and leg no operation will be performed.

### File Start List Source

Reads a start list file following the [IOF 3.0 Data Standard](https://orienteering.sport/iof/it/data-standard-3-0/)
and uses it to look up the team bib number and relay leg.  
Files generated by [OLA](https://www.svenskorientering.se/Arrangera/itochtavlings-administration/OLAtidtagnings-program/) and [OS2010](https://sportsoftware.de/orienteering/os) have been tested.  
The file will be monitored and re-read if it changes.
